<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>커서 돋보기 확대</title>
  <style>
    .zoom-container {
      position: relative;
      width: 400px;
      margin: 50px auto;
      cursor: none;
    }

    .zoom-container img {
      width: 100%;
      display: block;
    }

    .zoom-lens {
      position: absolute;
      width: 150px;
      height: 150px;
      border-radius: 50%;
      border: 2px solid #333;
      overflow: hidden;
      pointer-events: none;
      display: none;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      z-index: 10;
    }

    .zoom-lens img {
      position: absolute;
      /* 실제 이미지보다 2배 확대 */
      width: 800px; /* 400px * 2 */
      height: auto;
    }
  </style>
</head>
<body>

<div class="zoom-container" id="zoomContainer">
  <img src="./img/map.png" id="baseImage" alt="Zoom Image">
  <div class="zoom-lens" id="zoomLens">
    <img src="./img/map.png" id="zoomedImage">
  </div>
</div>

<script>
  const container = document.getElementById('zoomContainer');
  const lens = document.getElementById('zoomLens');
  const zoomedImg = document.getElementById('zoomedImage');
  const baseImg = document.getElementById('baseImage');

  // 확대 배율
  const zoom = 2;

  container.addEventListener('mousemove', function(e) {
    lens.style.display = 'block';

    const rect = container.getBoundingClientRect();
    const x = e.clientX - rect.left;
    const y = e.clientY - rect.top;

    const lensWidth = lens.offsetWidth;
    const lensHeight = lens.offsetHeight;

    // 렌즈 위치 설정
    let lensX = x - lensWidth / 2;
    let lensY = y - lensHeight / 2;

    // 렌즈가 영역 밖으로 나가지 않도록 제한
    if (lensX < 0) lensX = 0;
    if (lensY < 0) lensY = 0;
    if (lensX > container.offsetWidth - lensWidth) lensX = container.offsetWidth - lensWidth;
    if (lensY > container.offsetHeight - lensHeight) lensY = container.offsetHeight - lensHeight;

    lens.style.left = lensX + 'px';
    lens.style.top = lensY + 'px';

    // 확대 이미지 위치 조정 (마우스 위치를 기준으로 반대로 이동)
    zoomedImg.style.left = -(lensX * zoom) + 'px';
    zoomedImg.style.top = -(lensY * zoom) + 'px';
  });

  container.addEventListener('mouseleave', () => {
    lens.style.display = 'none';
  });
</script>

</body>
</html>
